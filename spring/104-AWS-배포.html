<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4. Aws에 Springboot 배포 | goodSaem</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="alternate" type="application/rss+xml" href="https://goodsaem.github.io/rss.xml" title="goodSaem RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://goodsaem.github.io/feed.atom" title="goodSaem Atom Feed">
    <link rel="alternate" type="application/json" href="https://goodsaem.github.io/feed.json" title="goodSaem JSON Feed">
    <meta name="description" content="4. Aws에 Springboot 배포">
    <meta name="google-site-verification" content="TgI6W9yu3WmEvVxC8vfAGVxwUfd4J1RgQa_BoB8ZZvU">
    
    <link rel="preload" href="/assets/css/0.styles.1505a274.css" as="style"><link rel="preload" href="/assets/js/app.3ab2aa80.js" as="script"><link rel="preload" href="/assets/js/2.3b0ca9c5.js" as="script"><link rel="preload" href="/assets/js/34.0187a830.js" as="script"><link rel="preload" href="/assets/js/72.a041d08e.js" as="script"><link rel="prefetch" href="/assets/js/10.5a7aa700.js"><link rel="prefetch" href="/assets/js/11.ac1467e0.js"><link rel="prefetch" href="/assets/js/12.31171b4c.js"><link rel="prefetch" href="/assets/js/13.a4bfa12e.js"><link rel="prefetch" href="/assets/js/14.08b403aa.js"><link rel="prefetch" href="/assets/js/15.b8ea30cf.js"><link rel="prefetch" href="/assets/js/16.672bde12.js"><link rel="prefetch" href="/assets/js/17.cc74a504.js"><link rel="prefetch" href="/assets/js/18.5aaa7aa7.js"><link rel="prefetch" href="/assets/js/19.b3670f0c.js"><link rel="prefetch" href="/assets/js/20.b75b2699.js"><link rel="prefetch" href="/assets/js/21.55825fca.js"><link rel="prefetch" href="/assets/js/22.9315b4f6.js"><link rel="prefetch" href="/assets/js/23.b911abc0.js"><link rel="prefetch" href="/assets/js/24.8cc99d70.js"><link rel="prefetch" href="/assets/js/25.acbba5f5.js"><link rel="prefetch" href="/assets/js/26.020b6b2d.js"><link rel="prefetch" href="/assets/js/27.69fe22c6.js"><link rel="prefetch" href="/assets/js/28.04c80df3.js"><link rel="prefetch" href="/assets/js/29.5558c36b.js"><link rel="prefetch" href="/assets/js/3.58df886c.js"><link rel="prefetch" href="/assets/js/30.906aa227.js"><link rel="prefetch" href="/assets/js/31.74cadd51.js"><link rel="prefetch" href="/assets/js/32.8864675f.js"><link rel="prefetch" href="/assets/js/33.f5124e81.js"><link rel="prefetch" href="/assets/js/35.a7d21445.js"><link rel="prefetch" href="/assets/js/36.bca5a58f.js"><link rel="prefetch" href="/assets/js/37.920ae66d.js"><link rel="prefetch" href="/assets/js/38.a504eecc.js"><link rel="prefetch" href="/assets/js/39.ddde0957.js"><link rel="prefetch" href="/assets/js/4.406747a8.js"><link rel="prefetch" href="/assets/js/40.c2a93784.js"><link rel="prefetch" href="/assets/js/41.c99d6e29.js"><link rel="prefetch" href="/assets/js/42.9785cf48.js"><link rel="prefetch" href="/assets/js/43.f68368f9.js"><link rel="prefetch" href="/assets/js/44.78cdc341.js"><link rel="prefetch" href="/assets/js/45.ead106e0.js"><link rel="prefetch" href="/assets/js/46.2a0a8d87.js"><link rel="prefetch" href="/assets/js/47.734b5447.js"><link rel="prefetch" href="/assets/js/48.3501f2db.js"><link rel="prefetch" href="/assets/js/49.505e8902.js"><link rel="prefetch" href="/assets/js/5.1ff78e6a.js"><link rel="prefetch" href="/assets/js/50.2b1b9999.js"><link rel="prefetch" href="/assets/js/51.5a770c3c.js"><link rel="prefetch" href="/assets/js/52.e17bf888.js"><link rel="prefetch" href="/assets/js/53.bcf9e7be.js"><link rel="prefetch" href="/assets/js/54.d377fcf4.js"><link rel="prefetch" href="/assets/js/55.1a59aeaf.js"><link rel="prefetch" href="/assets/js/56.f9361063.js"><link rel="prefetch" href="/assets/js/57.4fbb2b87.js"><link rel="prefetch" href="/assets/js/58.0c88023e.js"><link rel="prefetch" href="/assets/js/59.6d8a9e1d.js"><link rel="prefetch" href="/assets/js/6.9a8c982d.js"><link rel="prefetch" href="/assets/js/60.a583c6e5.js"><link rel="prefetch" href="/assets/js/61.140ff023.js"><link rel="prefetch" href="/assets/js/62.7b27f68b.js"><link rel="prefetch" href="/assets/js/63.de3ff555.js"><link rel="prefetch" href="/assets/js/64.db962424.js"><link rel="prefetch" href="/assets/js/65.a8540570.js"><link rel="prefetch" href="/assets/js/66.6070ab55.js"><link rel="prefetch" href="/assets/js/67.6ba02bab.js"><link rel="prefetch" href="/assets/js/68.d391818e.js"><link rel="prefetch" href="/assets/js/69.ac3a0025.js"><link rel="prefetch" href="/assets/js/7.e94d68a7.js"><link rel="prefetch" href="/assets/js/70.b4636972.js"><link rel="prefetch" href="/assets/js/71.6dbdfc5c.js"><link rel="prefetch" href="/assets/js/73.78e1fe0f.js"><link rel="prefetch" href="/assets/js/74.e96912e5.js"><link rel="prefetch" href="/assets/js/75.4a66b075.js"><link rel="prefetch" href="/assets/js/76.dd12a751.js"><link rel="prefetch" href="/assets/js/77.591b7357.js"><link rel="prefetch" href="/assets/js/78.6bde0969.js"><link rel="prefetch" href="/assets/js/79.0db9cc83.js"><link rel="prefetch" href="/assets/js/8.fd0fef98.js"><link rel="prefetch" href="/assets/js/80.9d4085f8.js"><link rel="prefetch" href="/assets/js/81.c8b9671f.js"><link rel="prefetch" href="/assets/js/82.77f1e2b7.js"><link rel="prefetch" href="/assets/js/83.bcd322e3.js"><link rel="prefetch" href="/assets/js/84.0e929037.js"><link rel="prefetch" href="/assets/js/85.00f30d3c.js"><link rel="prefetch" href="/assets/js/86.fc3e537a.js"><link rel="prefetch" href="/assets/js/87.442df45f.js"><link rel="prefetch" href="/assets/js/88.98595988.js"><link rel="prefetch" href="/assets/js/89.dbc8eb5b.js"><link rel="prefetch" href="/assets/js/9.e66e8bbc.js"><link rel="prefetch" href="/assets/js/90.28552c33.js"><link rel="prefetch" href="/assets/js/91.86bbe02f.js"><link rel="prefetch" href="/assets/js/92.835e4ca2.js"><link rel="prefetch" href="/assets/js/93.b9d932a1.js"><link rel="prefetch" href="/assets/js/94.5e3c872e.js"><link rel="prefetch" href="/assets/js/95.241c1216.js"><link rel="prefetch" href="/assets/js/96.d461756d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1505a274.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><main class="page"> <div class="theme-default-content content__default"><h1 id="_4-aws에-springboot-배포"><a href="#_4-aws에-springboot-배포" class="header-anchor">#</a> <i class="fas fa-server"></i> 4. Aws에 Springboot 배포</h1> <p>지금까지 만든 springboot 프로그램을 war 파일로 만든다음 aws에 배포하여 특정디렉토리로 요청이왔을때는 springboot가 응답하도록 설정해보겠습니다.
aws에 서버 구축과 php + mariadb 연동 + ssl 설정하는방법은 아래 url 참고하세요</p> <ul><li><a href="/setup/local/z101-freetier.html">/setup/aws/z101-freetier.html</a></li></ul> <h2 id="_1-build-gradle-수정"><a href="#_1-build-gradle-수정" class="header-anchor">#</a> 1. build.gradle 수정</h2> <p>war 파일로 build하기 위해 build.gradle 파일을 아래와 같이 수정했습니다. 아래 강조된 색상 부분만 참고하시면 되구요 간단히 설명드리면
spring boot 버전을 2.4.2 로 명시했구요 spring-boot-gradle-plugin 의존성을 추가한후 apply plugin war 등의 정보를
추가했습니다.</p> <div class="language-editorconfig line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-editorconfig"><code>buildscript {
	ext {
		<span class="token property">springBootVersion</span> <span class="token value string"><span class="token punctuation">=</span> '2.4.2'</span>
	}
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath(
				&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)
	}
}

apply plugin: 'org.springframework.boot'
apply plugin: 'war'
apply plugin: 'io.spring.dependency-management'
<span class="token property">sourceCompatibility</span> <span class="token value string"><span class="token punctuation">=</span> '1.8'</span>
<span class="token property">targetCompatibility</span> <span class="token value string"><span class="token punctuation">=</span> '1.8'</span>

<span class="token property">group</span> <span class="token value string"><span class="token punctuation">=</span> 'io.github.goodsaem'</span>
<span class="token property">version</span> <span class="token value string"><span class="token punctuation">=</span> '0.0.1-SNAPSHOT'</span>

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	implementation 'org.springframework.boot:spring-boot-starter-freemarker'
	implementation 'org.springframework.boot:spring-boot-starter-web'
	compileOnly 'org.projectlombok:lombok'
	runtimeOnly 'com.h2database:h2'
	runtimeOnly 'mysql:mysql-connector-java'
	annotationProcessor 'org.projectlombok:lombok'
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

test {
	useJUnitPlatform()
}

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h2 id="_2-tomcat-설정-및-db위치-변경-및-cors-설정"><a href="#_2-tomcat-설정-및-db위치-변경-및-cors-설정" class="header-anchor">#</a> 2. tomcat 설정 및 db위치 변경 및 cors 설정</h2> <p>nginx 가 설치되어 있는 https를 지원해주는 서버에 ( 설정은 위에 url 참고하세요) /spring 이라는 요청이 오면 springboot 쪽으로 전달하여
springboot가 처리하도록 하기 위해 context-path 에 spring 이라고 추가를 해줍니다. 세션타임아웃 시간등을 정해주시구요
h2 db 파일을 springboot가 실행되는 디렉토리에서 찾기위해 ./goodsaem이라고 설정을 변경했습니다.</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9090</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /spring
    <span class="token key atrule">session</span><span class="token punctuation">:</span>
      <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">60</span>
      <span class="token key atrule">tomcat</span><span class="token punctuation">:</span>
        <span class="token key atrule">uri-encoding</span><span class="token punctuation">:</span> UTF<span class="token punctuation">-</span><span class="token number">8</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span> <span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>h2<span class="token punctuation">:</span>./goodsaem
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> org.h2.Driver
    <span class="token key atrule">username</span><span class="token punctuation">:</span> goodsaem
    <span class="token key atrule">password</span><span class="token punctuation">:</span> xxxxxxxx
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">database-platform</span><span class="token punctuation">:</span> org.hibernate.dialect.H2Dialect
    <span class="token key atrule">properties.hibernate.hbm2ddl.auto</span><span class="token punctuation">:</span> update
    <span class="token key atrule">showSql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>Cors 설정을 위해 프로젝트 / 아래에 config 디렉토리를 만들고 아래와 같이 WebConfig를 생성합니다.
아래 설정이 누락되면 동일출처오류 cors 오류가 발생합니다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>goodsaem<span class="token punctuation">.</span>api<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">CorsRegistry</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCorsMappings</span><span class="token punctuation">(</span><span class="token class-name">CorsRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">addMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">allowedOrigins</span><span class="token punctuation">(</span><span class="token string">&quot;https://goodsaem.github.io&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">allowedMethods</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PUT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PATCH&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;DELETE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;OPTIONS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_3-intellij-에서-build를-수행합니다"><a href="#_3-intellij-에서-build를-수행합니다" class="header-anchor">#</a> 3. intellij 에서 build를 수행합니다.</h2> <p>intellij 에서 Gradle 을 클릭하고 Taks를 펼쳐 build 아래의 build를 더블 클릭합니다. 이렇게 진행하면 war파일이 생성됩니다.</p> <p><img src="/assets/img/1.a30e71f8.jpg" alt="./z./104/1.jpg"></p> <p>좌측의 프로젝트 디렉토리에서 build &gt; libs &gt; api-0.0.1-SNAPSHOT.war 파일 확인이 가능합니다.</p> <p><img src="/assets/img/2.b3f92deb.jpg" alt="./z./104/2.jpg"></p> <h2 id="_4-db-파일과-war-파일을-서버에-업로드-합니다"><a href="#_4-db-파일과-war-파일을-서버에-업로드-합니다" class="header-anchor">#</a> 4. db 파일과 war 파일을 서버에 업로드 합니다.</h2> <p>파일질라를 통해 프로젝트 홈 디렉토리에 있는 goodsaem.mv.db 파일과 war파일을 업로드 합니다.</p> <p><img src="/assets/img/3.094997ee.jpg" alt="./z./104/2.jpg"></p> <h2 id="_5-nginx-설정을-변경합니다"><a href="#_5-nginx-설정을-변경합니다" class="header-anchor">#</a> 5. nginx 설정을 변경합니다.</h2> <p>aws ssh shell에서 아래와 같이 입력합니다.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ubuntu@goodsaem:~$ <span class="token function">sudo</span> <span class="token function">vi</span> /etc/nginx/conf.d/default.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>아래와 같이 context path 의 spring 디렉토리의 요청이 오면 12~15 라인 설정에 따라 springboot로 보내는 설정입니다.
그외 전체 nginx 설정이 있으니 참고 하시기 바랍니다.
<a href="https://goodsaem.ml/spring/v1/memo" target="_blank" rel="noopener noreferrer">https://goodsaem.ml/spring/v1/memo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-shell"><code>server <span class="token punctuation">{</span>
    server_name  goodsaem.ml<span class="token punctuation">;</span>
    charset utf-8<span class="token punctuation">;</span>
    access_log  /var/log/nginx/localhost.access.log  main<span class="token punctuation">;</span>
    error_log /var/log/nginx/localhost.error.log<span class="token punctuation">;</span>
    root /home/ubuntu/phprest/public<span class="token punctuation">;</span>
    
    location /spring <span class="token punctuation">{</span>
        proxy_pass http://localhost:9090/spring<span class="token punctuation">;</span>
        proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
        proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        proxy_set_header Host <span class="token variable">$http_host</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location / <span class="token punctuation">{</span>
        try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.php?<span class="token variable">$args</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    error_page <span class="token number">405</span> <span class="token operator">=</span><span class="token number">200</span> <span class="token variable">$uri</span><span class="token punctuation">;</span>
    error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> /50x.html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
        root /usr/share/nginx/html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    location ~ <span class="token punctuation">\</span>.php$ <span class="token punctuation">{</span>
        proxy_pass   http://127.0.0.1<span class="token punctuation">;</span>
        fastcgi_param SCRIPT_FILENAME <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>
        include fastcgi_params<span class="token punctuation">;</span>

        fastcgi_pass <span class="token number">127.0</span>.0.1:9000<span class="token punctuation">;</span>
        proxy_redirect off<span class="token punctuation">;</span>
        fastcgi_intercept_errors on<span class="token punctuation">;</span>
        fastcgi_read_timeout <span class="token number">300</span><span class="token punctuation">;</span>
        fastcgi_send_timeout <span class="token number">300</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    location ~ /<span class="token punctuation">\</span>.ht <span class="token punctuation">{</span>
        deny  all<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location <span class="token operator">=</span> /xmlrpc.php <span class="token punctuation">{</span>
        deny all<span class="token punctuation">;</span>
        error_page <span class="token number">403</span> <span class="token operator">=</span> /403.html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    listen <span class="token number">443</span> ssl<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    ssl_certificate /etc/letsencrypt/live/goodsaem.ml/fullchain.pem<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    ssl_certificate_key /etc/letsencrypt/live/goodsaem.ml/privkey.pem<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    include /etc/letsencrypt/options-ssl-nginx.conf<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
<span class="token punctuation">}</span>
server <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$host</span> <span class="token operator">=</span> goodsaem.ml<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">return</span> <span class="token number">301</span> https://<span class="token variable">$host</span><span class="token variable">$request_uri</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment"># managed by Certbot</span>
    server_name  goodsaem.ml<span class="token punctuation">;</span>
    <span class="token builtin class-name">return</span> <span class="token number">404</span><span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>

    listen <span class="token number">443</span> ssl<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    ssl_certificate /etc/letsencrypt/live/goodsaem.ml/fullchain.pem<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    ssl_certificate_key /etc/letsencrypt/live/goodsaem.ml/privkey.pem<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    include /etc/letsencrypt/options-ssl-nginx.conf<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem<span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
<span class="token punctuation">}</span>

server <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$host</span> <span class="token operator">=</span> goodsaem.ml<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">return</span> <span class="token number">301</span> https://<span class="token variable">$host</span><span class="token variable">$request_uri</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment"># managed by Certbot</span>
    
    listen       <span class="token number">80</span><span class="token punctuation">;</span>
    server_name  goodsaem.ml<span class="token punctuation">;</span>
    <span class="token builtin class-name">return</span> <span class="token number">404</span><span class="token punctuation">;</span> <span class="token comment"># managed by Certbot</span>
<span class="token punctuation">}</span>        
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><h2 id="_6-nginx-재시작-및-springboot-를-시작합니다"><a href="#_6-nginx-재시작-및-springboot-를-시작합니다" class="header-anchor">#</a> 6. nginx 재시작 및 springboot 를 시작합니다.</h2> <p>아래 명령어로 nginx 를 재시작합니다.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ubuntu@goodsaem:~$ <span class="token function">sudo</span> <span class="token function">service</span> nginx restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>업로드한 jar 파일을 아래 명령어로 실행합니다.</p> <div class="language-shell line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-shell"><code>ubuntu@goodsaem:~/api$ java -jar api*.war
 ██████╗  ██████╗  ██████╗ ██████╗ ███████╗ █████╗ ███████╗███╗   ███╗
██╔════╝ ██╔═══██╗██╔═══██╗██╔══██╗██╔════╝██╔══██╗██╔════╝████╗ ████║
██║  ███╗██║   ██║██║   ██║██║  ██║███████╗███████║█████╗  ██╔████╔██║
██║   ██║██║   ██║██║   ██║██║  ██║╚════██║██╔══██║██╔══╝  ██║╚██╔╝██║
╚██████╔╝╚██████╔╝╚██████╔╝██████╔╝███████║██║  ██║███████╗██║ ╚═╝ ██║
 ╚═════╝  ╚═════╝  ╚═════╝ ╚═════╝ ╚══════╝╚═╝  ╚═╝╚══════╝╚═╝     ╚═╝
:: Spring Boot ::                             <span class="token punctuation">(</span>v2.4.2<span class="token punctuation">)</span>
<span class="token number">2021</span>-03-10 00:36:10.524  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> io.github.goodsaem.api.ApiApplication    <span class="token builtin class-name">:</span> Starting ApiApplication using Java <span class="token number">1.8</span>.0_282 on goodsaem with PID <span class="token number">17286</span> <span class="token punctuation">(</span>/home/ubuntu/api/api-0.0.1-SNAPSHOT.war started by ubuntu <span class="token keyword">in</span> /home/ubuntu/api<span class="token punctuation">)</span>
<span class="token number">2021</span>-03-10 00:36:10.535  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> io.github.goodsaem.api.ApiApplication    <span class="token builtin class-name">:</span> No active profile set, falling back to default profiles: default
<span class="token number">2021</span>-03-10 00:36:12.405  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> .s.d.r.c.RepositoryConfigurationDelegate <span class="token builtin class-name">:</span> Bootstrapping Spring Data JPA repositories <span class="token keyword">in</span> DEFAULT mode.
<span class="token number">2021</span>-03-10 00:36:12.545  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> .s.d.r.c.RepositoryConfigurationDelegate <span class="token builtin class-name">:</span> Finished Spring Data repository scanning <span class="token keyword">in</span> <span class="token number">114</span> ms. Found <span class="token number">1</span> JPA repository interfaces.
<span class="token number">2021</span>-03-10 00:36:14.131  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.s.b.w.embedded.tomcat.TomcatWebServer  <span class="token builtin class-name">:</span> Tomcat initialized with port<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: <span class="token number">9090</span> <span class="token punctuation">(</span>http<span class="token punctuation">)</span>
<span class="token number">2021</span>-03-10 00:36:14.167  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.apache.catalina.core.StandardService   <span class="token builtin class-name">:</span> Starting <span class="token function">service</span> <span class="token punctuation">[</span>Tomcat<span class="token punctuation">]</span>
<span class="token number">2021</span>-03-10 00:36:14.167  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> org.apache.catalina.core.StandardEngine  <span class="token builtin class-name">:</span> Starting Servlet engine: <span class="token punctuation">[</span>Apache Tomcat/9.0.41<span class="token punctuation">]</span>
<span class="token number">2021</span>-03-10 00:36:15.970  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.a.c.c.C.<span class="token punctuation">[</span>.<span class="token punctuation">[</span>localhost<span class="token punctuation">]</span>.<span class="token punctuation">[</span>/spring<span class="token punctuation">]</span>        <span class="token builtin class-name">:</span> Initializing Spring embedded WebApplicationContext
<span class="token number">2021</span>-03-10 00:36:15.970  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> w.s.c.ServletWebServerApplicationContext <span class="token builtin class-name">:</span> Root WebApplicationContext: initialization completed <span class="token keyword">in</span> <span class="token number">5303</span> ms
<span class="token number">2021</span>-03-10 00:36:16.857  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.hibernate.jpa.internal.util.LogHelper  <span class="token builtin class-name">:</span> HHH000204: Processing PersistenceUnitInfo <span class="token punctuation">[</span>name: default<span class="token punctuation">]</span>
<span class="token number">2021</span>-03-10 00:36:16.990  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> org.hibernate.Version                    <span class="token builtin class-name">:</span> HHH000412: Hibernate ORM core version <span class="token number">5.4</span>.27.Final
<span class="token number">2021</span>-03-10 00:36:17.253  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.hibernate.annotations.common.Version   <span class="token builtin class-name">:</span> HCANN000001: Hibernate Commons Annotations <span class="token punctuation">{</span><span class="token number">5.1</span>.2.Final<span class="token punctuation">}</span>
<span class="token number">2021</span>-03-10 00:36:17.487  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> com.zaxxer.hikari.HikariDataSource       <span class="token builtin class-name">:</span> HikariPool-1 - Starting<span class="token punctuation">..</span>.
<span class="token number">2021</span>-03-10 00:36:17.958  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> com.zaxxer.hikari.HikariDataSource       <span class="token builtin class-name">:</span> HikariPool-1 - Start completed.
<span class="token number">2021</span>-03-10 00:36:17.979  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> org.hibernate.dialect.Dialect            <span class="token builtin class-name">:</span> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
<span class="token number">2021</span>-03-10 00:36:19.285  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.h.e.t.j.p.i.JtaPlatformInitiator       <span class="token builtin class-name">:</span> HHH000490: Using JtaPlatform implementation: <span class="token punctuation">[</span>org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform<span class="token punctuation">]</span>
<span class="token number">2021</span>-03-10 00:36:19.303  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> j.LocalContainerEntityManagerFactoryBean <span class="token builtin class-name">:</span> Initialized JPA EntityManagerFactory <span class="token keyword">for</span> persistence unit <span class="token string">'default'</span>
<span class="token number">2021</span>-03-10 00:36:20.086  WARN <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> JpaBaseConfiguration<span class="token variable">$JpaWebConfiguration</span> <span class="token builtin class-name">:</span> spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
<span class="token number">2021</span>-03-10 00:36:20.370  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.s.s.concurrent.ThreadPoolTaskExecutor  <span class="token builtin class-name">:</span> Initializing ExecutorService <span class="token string">'applicationTaskExecutor'</span>
<span class="token number">2021</span>-03-10 00:36:21.187  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> o.s.b.w.embedded.tomcat.TomcatWebServer  <span class="token builtin class-name">:</span> Tomcat started on port<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: <span class="token number">9090</span> <span class="token punctuation">(</span>http<span class="token punctuation">)</span> with context path <span class="token string">'/spring'</span>
<span class="token number">2021</span>-03-10 00:36:21.210  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> io.github.goodsaem.api.ApiApplication    <span class="token builtin class-name">:</span> Started ApiApplication <span class="token keyword">in</span> <span class="token number">11.982</span> seconds <span class="token punctuation">(</span>JVM running <span class="token keyword">for</span> <span class="token number">13.126</span><span class="token punctuation">)</span>
<span class="token number">2021</span>-03-10 00:36:37.301  INFO <span class="token number">17286</span> --- <span class="token punctuation">[</span>nio-9090-exec-1<span class="token punctuation">]</span> o.apache.coyote.http11.Http11Processor   <span class="token builtin class-name">:</span> Error parsing HTTP request header
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">open jdk 1.8 설치</p> <p>만약 openjdk 1.8이 설치되어 있지 않다면 아래 명령어로 설치해 주시기 바랍니다.</p> <div class="language-shell line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-shell"><code>ubuntu@goodsaem:~/api$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openjdk-8-jdk
Reading package lists<span class="token punctuation">..</span>. Done
Building dependency tree       
Reading state information<span class="token punctuation">..</span>. Done
The following additional packages will be installed:
  adwaita-icon-theme at-spi2-core ca-certificates-java fontconfig fonts-dejavu-extra gtk-update-icon-cache hicolor-icon-theme humanity-icon-theme java-common libasound2 libasound2-data libasyncns0 libatk-bridge2.0-0 libatk-wrapper-java libatk-wrapper-java-jni libatk1.0-0 libatk1.0-data libatspi2.0-0 libcairo2 libdatrie1 libdrm-amdgpu1 libdrm-intel1
  libdrm-nouveau2 libdrm-radeon1 libflac8 libfontenc1 libgail-common libgail18 libgdk-pixbuf2.0-0 libgdk-pixbuf2.0-bin libgdk-pixbuf2.0-common libgif7 libgl1 libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libglvnd0 libglx-mesa0 libglx0 libgraphite2-3 libgtk2.0-0 libgtk2.0-bin libgtk2.0-common libharfbuzz0b libice-dev libice6 libllvm10 libnspr4 libnss3 libogg0
  libpango-1.0-0 libpangocairo-1.0-0 libpangoft2-1.0-0 libpciaccess0 libpcsclite1 libpixman-1-0 libpthread-stubs0-dev libpulse0 librsvg2-2 librsvg2-common libsensors4 libsm-dev libsm6 libsndfile1 libthai-data libthai0 libvorbis0a libvorbisenc2 libx11-dev libx11-doc libx11-xcb1 libxau-dev libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0
  libxcb-render0 libxcb-shape0 libxcb-shm0 libxcb-sync1 libxcb1-dev libxcomposite1 libxcursor1 libxdamage1 libxdmcp-dev libxfixes3 libxft2 libxi6 libxinerama1 libxmu6 libxrandr2 libxrender1 libxshmfence1 libxt-dev libxt6 libxtst6 libxv1 libxxf86dga1 libxxf86vm1 openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-headless ubuntu-mono x11-common x11-utils
  x11proto-core-dev x11proto-dev xorg-sgml-doctools xtrans-dev
Suggested packages:
  default-jre libasound2-plugins alsa-utils gvfs libice-doc pcscd pulseaudio librsvg2-bin lm-sensors libsm-doc libxcb-doc libxt-doc openjdk-8-demo openjdk-8-source visualvm icedtea-8-plugin libnss-mdns fonts-ipafont-gothic fonts-ipafont-mincho fonts-wqy-microhei fonts-wqy-zenhei fonts-indic mesa-utils
The following NEW packages will be installed:
  adwaita-icon-theme at-spi2-core ca-certificates-java fontconfig fonts-dejavu-extra gtk-update-icon-cache hicolor-icon-theme humanity-icon-theme java-common libasound2 libasound2-data libasyncns0 libatk-bridge2.0-0 libatk-wrapper-java libatk-wrapper-java-jni libatk1.0-0 libatk1.0-data libatspi2.0-0 libcairo2 libdatrie1 libdrm-amdgpu1 libdrm-intel1
  libdrm-nouveau2 libdrm-radeon1 libflac8 libfontenc1 libgail-common libgail18 libgdk-pixbuf2.0-0 libgdk-pixbuf2.0-bin libgdk-pixbuf2.0-common libgif7 libgl1 libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libglvnd0 libglx-mesa0 libglx0 libgraphite2-3 libgtk2.0-0 libgtk2.0-bin libgtk2.0-common libharfbuzz0b libice-dev libice6 libllvm10 libnspr4 libnss3 libogg0
  libpango-1.0-0 libpangocairo-1.0-0 libpangoft2-1.0-0 libpciaccess0 libpcsclite1 libpixman-1-0 libpthread-stubs0-dev libpulse0 librsvg2-2 librsvg2-common libsensors4 libsm-dev libsm6 libsndfile1 libthai-data libthai0 libvorbis0a libvorbisenc2 libx11-dev libx11-doc libx11-xcb1 libxau-dev libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0
  libxcb-render0 libxcb-shape0 libxcb-shm0 libxcb-sync1 libxcb1-dev libxcomposite1 libxcursor1 libxdamage1 libxdmcp-dev libxfixes3 libxft2 libxi6 libxinerama1 libxmu6 libxrandr2 libxrender1 libxshmfence1 libxt-dev libxt6 libxtst6 libxv1 libxxf86dga1 libxxf86vm1 openjdk-8-jdk openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-headless ubuntu-mono x11-common
  x11-utils x11proto-core-dev x11proto-dev xorg-sgml-doctools xtrans-dev
<span class="token number">0</span> upgraded, <span class="token number">111</span> newly installed, <span class="token number">0</span> to remove and <span class="token number">42</span> not upgraded.
Need to get <span class="token number">81.6</span> MB of archives.
After this operation, <span class="token number">556</span> MB of additional disk space will be used.
Do you want to continue? <span class="token punctuation">[</span>Y/n<span class="token punctuation">]</span> y
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>정상적으로 설치되었는지 확인합니다.</p> <div class="language-shell line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br></div><pre class="language-shell"><code>ubuntu@goodsaem:~/api$ java -version
openjdk version <span class="token string">&quot;1.8.0_282&quot;</span>
OpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_282-8u282-b08-0ubuntu1~18.04-b08<span class="token punctuation">)</span>
OpenJDK <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.282</span>-b08, mixed mode<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div> <h2 id="_7-테스트"><a href="#_7-테스트" class="header-anchor">#</a> 7. 테스트</h2> <p>아래 url 에 접속합니다.</p> <ul><li><a href="https://goodsaem.ml/spring/v1/memo" target="_blank" rel="noopener noreferrer">https://goodsaem.ml/spring/v1/memo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>아래와 같이 json 문자열이 브라우저에 출력 된다면 ok 입니다.</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token property">&quot;idx&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo title1&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;contents&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo content1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token property">&quot;idx&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo title2&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;contents&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo content2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token property">&quot;idx&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo title3&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;contents&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo content3&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token property">&quot;idx&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo title4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;contents&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo content4&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token property">&quot;idx&quot;</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo title5&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;contents&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo content5&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token property">&quot;idx&quot;</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo title7&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;contents&quot;</span><span class="token operator">:</span><span class="token string">&quot;memo content7&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div data-v-ade02e5e><div class="el-row" data-v-ade02e5e><div class="el-col el-col-8" style="padding-right:10px;" data-v-ade02e5e><div class="el-input" data-v-ade02e5e><!----><input type="text" autocomplete="off" placeholder="메모 제목을 입력하세요" class="el-input__inner"><!----><!----><!----><!----></div></div> <div class="el-col el-col-8" data-v-ade02e5e><div class="el-input" data-v-ade02e5e><!----><input type="text" autocomplete="off" placeholder="메모 내용을 입력하세요" class="el-input__inner"><!----><!----><!----><!----></div></div> <div class="el-col el-col-8" style="padding-left:10px;" data-v-ade02e5e><button type="button" class="el-button el-button--primary" data-v-ade02e5e><!----><!----><span>메모등록</span></button> <button type="button" class="el-button el-button--primary" data-v-ade02e5e><!----><!----><span>메모검색</span></button></div></div> <div class="el-row" data-v-ade02e5e><div class="el-col el-col-24" data-v-ade02e5e><i class="fas fa-smile" data-v-ade02e5e></i> Element Ui로 데이터 표현하기
    </div></div> <div class="el-row" data-v-ade02e5e><div class="el-table el-table--fit el-table--enable-row-hover" style="width:100%;" data-v-ade02e5e><div class="hidden-columns"><div data-v-ade02e5e></div> <div data-v-ade02e5e></div> <div data-v-ade02e5e></div></div><div class="el-table__header-wrapper"><table cellspacing="0" cellpadding="0" border="0" class="el-table__header" style="width:;"><colgroup></colgroup><thead><tr></tr></thead></table></div><div class="el-table__body-wrapper is-scrolling-none"><table cellspacing="0" cellpadding="0" border="0" class="el-table__body" style="width:;"><colgroup></colgroup><tbody><!----></tbody></table><div class="el-table__empty-block" style="width:;height:100%;"><span class="el-table__empty-text">데이터 없음</span></div><!----></div><!----><!----><!----><!----><div class="el-table__column-resize-proxy" style="display:none;"></div></div></div> <div class="el-row" data-v-ade02e5e><div class="el-col el-col-24" data-v-ade02e5e><i class="fas fa-angry" data-v-ade02e5e></i> Tui Grid 로 데이터 표현하기
    </div></div> <div class="el-row" data-v-ade02e5e><div class="el-col el-col-24" data-v-ade02e5e><grid data="" columns="[object Object],[object Object],[object Object]" data-v-ade02e5e></grid></div></div></div> <p>메모를 등록하면 post로 등록 api를 호출하여 db에 내용을 저장하고 조회 api 를 호출하여 데이터를 받아서 grid에 표현합니다.</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">padding-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>메모 제목을 입력하세요<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>memo.title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>메모 내용을 입력하세요<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>memo.contents<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>saveMemo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>메모등록<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchMemo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>메모검색<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fas fa-smile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span> Element Ui로 데이터 표현하기
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gridData.length &gt;= 0<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gridData<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
                <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
            <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>idx<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>번호<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
            <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>제목<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
            <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contents<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>내용<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fas fa-angry<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span> Tui Grid 로 데이터 표현하기
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>grid</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadData === true<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tuiGrid<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gridData<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:scrollX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scrollX<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:scrollY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scrollY<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>grid</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token string">&quot;https://goodsaem.ml&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//const URL = &quot;http://localhost:9090&quot;;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Exam4&quot;</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      memo <span class="token operator">:</span> <span class="token punctuation">{</span>
        title <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        contents <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      loadData<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      gridData<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      columns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          header<span class="token operator">:</span> <span class="token string">'번호'</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'idx'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          header<span class="token operator">:</span> <span class="token string">'메모'</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'title'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          header<span class="token operator">:</span> <span class="token string">'메모내용'</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'contents'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      scrollX<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      scrollY<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">saveMemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token constant">URL</span> <span class="token operator">+</span> <span class="token string">'/spring/v1/memo'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>memo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">searchMemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">searchMemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>loadData <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">URL</span> <span class="token operator">+</span> <span class="token string">'/spring/v1/memo'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gridData <span class="token operator">=</span> response<span class="token punctuation">.</span>data
            <span class="token keyword">this</span><span class="token punctuation">.</span>loadData <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br></div></div><h2 id="_8-참고"><a href="#_8-참고" class="header-anchor">#</a> 8. 참고</h2> <p>위에 spring boot는 ctrl+c 를 누르거나 ssh 를 종료하면 서비스가 종료 됩니다. 서비스가 백그라운드에서 실행되도록하고
프로세스를 죽이지 않도록 설정하겠습니다.</p> <p>start.sh 파일을 만듭니다.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ubuntu@goodsaem:~/api$ <span class="token function">vi</span> start.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>nohup 은 프로세스를 죽이지 않겠다는 의미이고 &amp; 은 백그라운드에서 실행하겠다는 의미 입니다.
이렇게 실행하면 로그가 보이지 않습니다.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">nohup</span> java -jar api*.war <span class="token operator">&gt;</span> api.log <span class="token operator">&amp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>아래 명령어를 입력하여 로그를 확인합니다.</p> <div class="language-shell line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-shell"><code>ubuntu@goodsaem:~/api$ <span class="token function">tail</span> -f api.log
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_
Hibernate: <span class="token keyword">select</span> memo0_.idx as idx1_0_, memo0_.contents as contents2_0_, memo0_.title as title3_0_ from memo memo0_

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>프로세스 종료는 아래와 같이 java 프로세스가 올라가 있는걸 확인하고 kill 명령어로 종료합니다.
kill 되고 나서 프로세스가 살아있는지 한번더 프로세를 확인 합니다.</p> <div class="language-shell line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-shell"><code>ubuntu@goodsaem:~/api$ <span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> java
ubuntu   <span class="token number">17700</span>     <span class="token number">1</span>  <span class="token number">4</span> 01:40 ?        00:00:15 java -jar api-0.0.1-SNAPSHOT.war
ubuntu   <span class="token number">17870</span> <span class="token number">17842</span>  <span class="token number">0</span> 01:46 pts/0    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto java
ubuntu@goodsaem:~/api$ <span class="token function">kill</span> -9 <span class="token number">17700</span>
ubuntu@goodsaem:~/api$ <span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> java
ubuntu   <span class="token number">17872</span> <span class="token number">17842</span>  <span class="token number">0</span> 01:46 pts/0    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto java
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">마지막 수정일:</span> <span class="time">3/29/2021, 11:57:18 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/spring/103-H2DB-연동.html" class="prev">3. SpringBoot H2DB 연동</a></span> <span class="next"><a href="/spring/105-MariaDB-연동.html">5. Springboot Mariadb 설정</a>
      →
    </span></p></div>  <div><div id="comment" class="comment"></div></div></main> <header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><figure><img src="https://avatars.githubusercontent.com/u/72680592?s=400&amp;u=745704d80b906fded3d9399a38120d35e6944318&amp;v=4" alt="goodSaem"></figure> <div><strong>goodsaem</strong> <em>좋은선생님</em></div></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Apps" class="dropdown-title"><span class="title">Apps</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/apps/100-바코드-생성기.html" class="nav-link">100-바코드-생성기</a></li><li class="dropdown-item"><!----> <a href="/apps/101-폰트어썸-아이콘검색.html" class="nav-link">101-폰트어썸-아이콘검색</a></li><li class="dropdown-item"><!----> <a href="/apps/102-메모관리.html" class="nav-link">102-메모관리</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/goodsaem/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Apps" class="dropdown-title"><span class="title">Apps</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/apps/100-바코드-생성기.html" class="nav-link">100-바코드-생성기</a></li><li class="dropdown-item"><!----> <a href="/apps/101-폰트어썸-아이콘검색.html" class="nav-link">101-폰트어썸-아이콘검색</a></li><li class="dropdown-item"><!----> <a href="/apps/102-메모관리.html" class="nav-link">102-메모관리</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/goodsaem/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/Hello.html" class="sidebar-link">인사말</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Apps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>SpringBoot</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/spring/101-프로젝트-생성.html" class="sidebar-link">1. SpringBoot 프로젝트 생성</a></li><li><a href="/spring/102-첫번째-예제.html" class="sidebar-link">2. SpringBoot 첫번째 예제</a></li><li><a href="/spring/103-H2DB-연동.html" class="sidebar-link">3. SpringBoot H2DB 연동</a></li><li><a href="/spring/104-AWS-배포.html" class="active sidebar-link">4. Aws에 Springboot 배포</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_1-build-gradle-수정" class="sidebar-link">1. build.gradle 수정</a></li><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_2-tomcat-설정-및-db위치-변경-및-cors-설정" class="sidebar-link">2. tomcat 설정 및 db위치 변경 및 cors 설정</a></li><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_3-intellij-에서-build를-수행합니다" class="sidebar-link">3. intellij 에서 build를 수행합니다.</a></li><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_4-db-파일과-war-파일을-서버에-업로드-합니다" class="sidebar-link">4. db 파일과 war 파일을 서버에 업로드 합니다.</a></li><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_5-nginx-설정을-변경합니다" class="sidebar-link">5. nginx 설정을 변경합니다.</a></li><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_6-nginx-재시작-및-springboot-를-시작합니다" class="sidebar-link">6. nginx 재시작 및 springboot 를 시작합니다.</a></li><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_7-테스트" class="sidebar-link">7. 테스트</a></li><li class="sidebar-sub-header"><a href="/spring/104-AWS-배포.html#_8-참고" class="sidebar-link">8. 참고</a></li></ul></li><li><a href="/spring/105-MariaDB-연동.html" class="sidebar-link">5. Springboot Mariadb 설정</a></li><li><a href="/spring/106-Ignite-캐쉬설정.html" class="sidebar-link">6. SpringBoot Ignite 설정</a></li><li><a href="/spring/107-Swagger-설정.html" class="sidebar-link">7. Swagger 3.x 적용</a></li><li><a href="/spring/108-Restapi-설계.html" class="sidebar-link">8. RESTful API 설계</a></li><li><a href="/spring/201-Freemarker.html" class="sidebar-link">SpringBoot Freemarket 연동</a></li><li><a href="/spring/202-Mariadb-연동.html" class="sidebar-link">SpringBoot Mariadb 연동</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AWS 서버구축</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AWS + PHP 서버</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>로컬 서버 구축</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Setup</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <footer class="siteFooter"><div class="container"><p class="siteFooterCopyright">
      Copyright © 2021 All Right <em>goodsaem</em></p> <p class="siteFooterContact">
      goodsaem@protonmail.com
      <a href="https://github.com/goodsaem" target="_blank">GitHub</a> .
    </p></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3ab2aa80.js" defer></script><script src="/assets/js/2.3b0ca9c5.js" defer></script><script src="/assets/js/34.0187a830.js" defer></script><script src="/assets/js/72.a041d08e.js" defer></script>
  </body>
</html>
