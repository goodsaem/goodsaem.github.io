(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1231:function(s,a,t){"use strict";t.r(a);var n=t(119),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_8-php-설치"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-php-설치"}},[s._v("#")]),s._v(" "),t("i",{staticClass:"fas fa-server"}),s._v(" 8. PHP 설치")]),s._v(" "),t("p",[s._v("최신 버전의 php를 설치하기 위해 저장소를 등록합니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu@goodsaem:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" software-properties-common\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("아래 명령어를 입력하고 중간에 엔터를 입력하는 부분에서 엔터를 입력합니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu@goodsaem:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository ppa:ondrej/php\nCo-installable PHP versions: PHP "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v(", PHP "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(".x and "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("most")]),s._v(" requested extensions are included. Only Supported Versions of PHP "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("http://php.net/supported-versions.php"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Supported Ubuntu Releases "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("https://wiki.ubuntu.com/Releases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" are provided. Don"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t ask for end-of-life PHP versions or Ubuntu release, they won'")]),s._v("t be provided.\n\nDebian oldstable and stable packages are provided as well: https://deb.sury.org/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#debian-dpa")]),s._v("\n\nYou can get "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" information about the packages at https://deb.sury.org\n\nIMPORTANT: The "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("-backports is now required on older Ubuntu releases.\n\nBUGS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("FEATURES: This PPA now has a issue tracker:\nhttps://deb.sury.org/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#bug-reporting")]),s._v("\n\nCAVEATS:\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". If you are using php-gearman, you need to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" ppa:ondrej/pkg-gearman\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". If you are using apache2, you are advised to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" ppa:ondrej/apache2\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". If you are using nginx, you are advised to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" ppa:ondrej/nginx-mainline\n   or ppa:ondrej/nginx\n\nPLEASE READ: If you like my work and want to give me a little motivation, please consider donating regularly: https://donate.sury.org/\n\nWARNING: add-apt-repository is broken with non-UTF-8 locales, see\nhttps://github.com/oerdnj/deb.sury.org/issues/56 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" workaround:\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php")]),s._v("\nMore info: https://launchpad.net/~ondrej/+archive/ubuntu/php\nPress "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ENTER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" to "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("continue")]),s._v(" or Ctrl-c to cancel adding it.\n\nHit:1 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic InRelease\nGet:2 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic-updates InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.7")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                     \nGet:3 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic-backports InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("74.6")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                                                                   \nHit:4 https://mirror.yongbok.net/mariadb/repo/10.5/ubuntu bionic InRelease                                                                                                                   \nGet:5 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1912")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                                                                            \nHit:6 http://ppa.launchpad.net/certbot/certbot/ubuntu bionic InRelease                                                                                                                                      \nGet:7 http://security.ubuntu.com/ubuntu bionic-security InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.7")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                                                      \nHit:8 http://nginx.org/packages/mainline/ubuntu bionic InRelease                                                                                             \nHit:9 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease                                                                                           \nFetched "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2164")]),s._v(" kB "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 1s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1891")]),s._v(" kB/s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                              \nReading package lists"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br")])]),t("p",[s._v("php 7.4 버전을 설치합니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu@goodsaem:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php7.4 php7.4-cli php7.4-fpm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-bcmath php7.4-bz2 php7.4-common php7.4-curl "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-dba php7.4-gd php7.4-json php7.4-mbstring php7.4-opcache "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-readline php7.4-soap php7.4-xml php7.4-xmlrpc php7.4-zip "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-ctype php7.4-pdo php7.4-redis php7.4-mysql php7.4-imagick "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-intl php7.4-mysqlnd php7.4-gmp php7.4-geoip php7.4-dev -y\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("설치후 php 버전을 확인합니다. 정상 설치되었네요")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu@goodsaem:~$ php -v\nPHP "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.4")]),s._v(".15 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cli"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("built: Feb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":12:05"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" NTS "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCopyright "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" The PHP Group\nZend Engine v3.4.0, Copyright "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Zend Technologies\n    with Zend OPcache v7.4.15, Copyright "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", by Zend Technologies\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("php 기본설정을 진행합니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu@goodsaem:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/php/7.4/fpm/php.ini\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("아래 부분을 찾아서 하나씩 변경합니다. 업로드 최대 크기와 최대 파일 사이즈 메모리 제한은 구축하고자 하는 어플리케이션 환경에 맞게 설정 바랍니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ndate.timezone "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Asia/Seoul\nexpose_php "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Off\npost_max_size "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 30M\nupload_max_filesize "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 30M\nmemory_limit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"php-fpm-설정"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php-fpm-설정"}},[s._v("#")]),s._v(" php-fpm 설정")]),s._v(" "),t("p",[s._v("apahce php 조합일때는 mod_php란 모듈을 이용해서 연결을 시켰는데 Nginx와 연동을 위해서는 PHP-FPM 이라는 Fast-Cgi 기능을 설정해야 됩니다.")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("PHP-FPM")]),s._v(" "),t("p",[s._v("FastCGI Process Manager")])]),s._v(" "),t("p",[s._v("설정 파일을 수정합니다. error_log 위치만 아래와 같이 변경하겠습니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu@goodsaem:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/php/7.4/fpm/php-fpm.conf\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nerror_log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/php7.4-fpm.log\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"php-pool-설정"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php-pool-설정"}},[s._v("#")]),s._v(" php pool 설정")]),s._v(" "),t("p",[s._v("php www 관련 설정을 진행하겠습니다. 먼저 설정파일을 백업 합니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rp /etc/php/7.4/fpm/pool.d/www.conf /etc/php/7.4/fpm/pool.d/www.conf.back\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("설정 파일을 수정합니다.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ubuntu@goodsaem:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/php/7.4/fpm/pool.d/www.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("아래와 같은 설정 내용등을 찾아서 변경해 주세요.")]),s._v(" "),t("ul",[t("li",[t("em",[s._v("listen")]),s._v(" : Nginx 와 php 연동을 위해 리스턴 하는 아이피 포트를 127.0.0.1:9000 으로 지정했습니다. 웹에서 php에 대한 요청이 들어오면 해당\n포트로 보내서 php가 처리를 하도록 리스턴 아이피 포트를 지정합니다."),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("listen = /run/php/php7.4-fpm.sock (소켓연결)")]),s._v(" "),t("p",[s._v("소켓으로 연결 할수 있습니다. 하지만 무슨 이유인지 연결이 되지 않아 아이피 포트로 지정했습니다.")])])]),s._v(" "),t("li",[t("em",[s._v("pm.max_children")]),s._v(" : PHP Pool(www) 내에서 가동할 수 있는 최대 자식 프로세스 수를 의미 합니다")]),s._v(" "),t("li",[t("em",[s._v("pm.start_servers")]),s._v(" : php-fpm 을 실행할 때 초기에 생성하는 자식 프로세스의 개수입니다")]),s._v(" "),t("li",[t("em",[s._v("pm.min_spare_servers")]),s._v(" :idle 상태의 자식 프로세스 개수가 이 개수보다 작으면 자식 프로세스를 생성합니다")]),s._v(" "),t("li",[t("em",[s._v("pm.max_spare_servers")]),s._v(": idle 상태의 자식 프로세스의 최대 개수를 의미 합니다.")]),s._v(" "),t("li",[t("em",[s._v("pm.max_requests")]),s._v(" : 최대 request를 처리 수 입니다. 500 으로 설정되어 있다면 500번 request 후 프로세스를 다시 생성 하며\n프로세스가 점진적인 메모리 증가에 대한부분을 방지 할 수 있습니다.")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\ngroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\nlisten.owner "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\nlisten.group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\nlisten.mode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0660\nlisten "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:9000\npm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" dynamic\npm.max_children "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\npm.start_servers "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\npm.min_spare_servers "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\npm.max_spare_servers "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\npm.max_requests "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("\naccess.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/php-fpm-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pool")]),s._v(".access.log\naccess.format "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%R - %u %t '),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("%m %r%Q%q"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v(' %s %f %{mili}d %{kilo}M %C%%"')]),s._v("\nslowlog "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/php-fpm-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pool")]),s._v(".log.slow\nrequest_slowlog_timeout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\nphp_admin_value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("error_log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/fpm-php."),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pool")]),s._v(".error.log\nphp_admin_flag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("log_errors"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" on\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);