(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1190:function(s,a,n){"use strict";n.r(a);var t=n(119),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_8-php-설치"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-php-설치"}},[s._v("#")]),s._v(" "),n("i",{staticClass:"fas fa-server"}),s._v(" 8. PHP 설치")]),s._v(" "),n("p",[s._v("최신 버전의 php를 설치하기 위해 저장소를 등록합니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu@goodsaem:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" software-properties-common\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("아래 명령어를 입력하고 중간에 엔터를 입력하는 부분에서 엔터를 입력합니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu@goodsaem:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository ppa:ondrej/php\nCo-installable PHP versions: PHP "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v(", PHP "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(".x and "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("most")]),s._v(" requested extensions are included. Only Supported Versions of PHP "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("http://php.net/supported-versions.php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Supported Ubuntu Releases "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("https://wiki.ubuntu.com/Releases"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" are provided. Don"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t ask for end-of-life PHP versions or Ubuntu release, they won'")]),s._v("t be provided.\n\nDebian oldstable and stable packages are provided as well: https://deb.sury.org/"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#debian-dpa")]),s._v("\n\nYou can get "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" information about the packages at https://deb.sury.org\n\nIMPORTANT: The "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("foo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("-backports is now required on older Ubuntu releases.\n\nBUGS"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("FEATURES: This PPA now has a issue tracker:\nhttps://deb.sury.org/"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#bug-reporting")]),s._v("\n\nCAVEATS:\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". If you are using php-gearman, you need to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" ppa:ondrej/pkg-gearman\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". If you are using apache2, you are advised to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" ppa:ondrej/apache2\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". If you are using nginx, you are advised to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" ppa:ondrej/nginx-mainline\n   or ppa:ondrej/nginx\n\nPLEASE READ: If you like my work and want to give me a little motivation, please consider donating regularly: https://donate.sury.org/\n\nWARNING: add-apt-repository is broken with non-UTF-8 locales, see\nhttps://github.com/oerdnj/deb.sury.org/issues/56 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" workaround:\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php")]),s._v("\nMore info: https://launchpad.net/~ondrej/+archive/ubuntu/php\nPress "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ENTER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" to "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("continue")]),s._v(" or Ctrl-c to cancel adding it.\n\nHit:1 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic InRelease\nGet:2 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic-updates InRelease "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.7")]),s._v(" kB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                     \nGet:3 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic-backports InRelease "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("74.6")]),s._v(" kB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                                                                   \nHit:4 https://mirror.yongbok.net/mariadb/repo/10.5/ubuntu bionic InRelease                                                                                                                   \nGet:5 http://ap-northeast-2.ec2.archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1912")]),s._v(" kB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                                                                            \nHit:6 http://ppa.launchpad.net/certbot/certbot/ubuntu bionic InRelease                                                                                                                                      \nGet:7 http://security.ubuntu.com/ubuntu bionic-security InRelease "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.7")]),s._v(" kB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                                                      \nHit:8 http://nginx.org/packages/mainline/ubuntu bionic InRelease                                                                                             \nHit:9 http://ppa.launchpad.net/ondrej/php/ubuntu bionic InRelease                                                                                           \nFetched "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2164")]),s._v(" kB "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 1s "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1891")]),s._v(" kB/s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                              \nReading package lists"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("p",[s._v("php 7.4 버전을 설치합니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu@goodsaem:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php7.4 php7.4-cli php7.4-fpm "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-bcmath php7.4-bz2 php7.4-common php7.4-curl "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-dba php7.4-gd php7.4-json php7.4-mbstring php7.4-opcache "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-readline php7.4-soap php7.4-xml php7.4-xmlrpc php7.4-zip "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-ctype php7.4-pdo php7.4-redis php7.4-mysql php7.4-imagick "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nphp7.4-intl php7.4-mysqlnd php7.4-gmp php7.4-geoip php7.4-dev -y\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("설치후 php 버전을 확인합니다. 정상 설치되었네요")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu@goodsaem:~$ php -v\nPHP "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.4")]),s._v(".15 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cli"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("built: Feb "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":12:05"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" NTS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" The PHP Group\nZend Engine v3.4.0, Copyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Zend Technologies\n    with Zend OPcache v7.4.15, Copyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", by Zend Technologies\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("php 기본설정을 진행합니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu@goodsaem:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/php/7.4/fpm/php.ini\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("아래 부분을 찾아서 하나씩 변경합니다. 업로드 최대 크기와 최대 파일 사이즈 메모리 제한은 구축하고자 하는 어플리케이션 환경에 맞게 설정 바랍니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ndate.timezone "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Asia/Seoul\nexpose_php "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Off\npost_max_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 30M\nupload_max_filesize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 30M\nmemory_limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"php-fpm-config"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#php-fpm-config"}},[s._v("#")]),s._v(" php-fpm config")]),s._v(" "),n("p",[s._v("apahce php 조합일때는 mod_php란 모듈을 이용해서 연결을 시켰는데 Nginx와 연동을 위해서는 PHP-FPM 이라는 Fast-Cgi 기능을 설정해야 됩니다.")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("PHP-FPM")]),s._v(" "),n("p",[s._v("FastCGI Process Manager")])]),s._v(" "),n("p",[s._v("설정 파일을 수정합니다. error_log 위치만 아래와 같이 변경하겠습니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu@goodsaem:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/php/7.4/fpm/php-fpm.conf\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nerror_log "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/php7.4-fpm.log\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"php-pool-config"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#php-pool-config"}},[s._v("#")]),s._v(" php pool config")]),s._v(" "),n("p",[s._v("php www 관련 설정을 진행하겠습니다. 먼저 설정파일을 백업 합니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rp /etc/php/7.4/fpm/pool.d/www.conf /etc/php/7.4/fpm/pool.d/www.conf.back\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("설정 파일을 수정합니다.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ubuntu@goodsaem:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/php/7.4/fpm/pool.d/www.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("아래와 같은 설정 내용등을 찾아서 변경해 주세요.")]),s._v(" "),n("ul",[n("li",[n("em",[s._v("listen")]),s._v(" : Nginx 와 php 연동을 위해 리스턴 하는 아이피 포트를 127.0.0.1:9000 으로 지정했습니다. 웹에서 php에 대한 요청이 들어오면 해당\n포트로 보내서 php가 처리를 하도록 리스턴 아이피 포트를 지정합니다."),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("listen = /run/php/php7.4-fpm.sock (소켓연결)")]),s._v(" "),n("p",[s._v("소켓으로 연결 할수 있습니다. 하지만 무슨 이유인지 연결이 되지 않아 아이피 포트로 지정했습니다.")])])]),s._v(" "),n("li",[n("em",[s._v("pm.max_children")]),s._v(" : PHP Pool(www) 내에서 가동할 수 있는 최대 자식 프로세스 수를 의미 합니다")]),s._v(" "),n("li",[n("em",[s._v("pm.start_servers")]),s._v(" : php-fpm 을 실행할 때 초기에 생성하는 자식 프로세스의 개수입니다")]),s._v(" "),n("li",[n("em",[s._v("pm.min_spare_servers")]),s._v(" :idle 상태의 자식 프로세스 개수가 이 개수보다 작으면 자식 프로세스를 생성합니다")]),s._v(" "),n("li",[n("em",[s._v("pm.max_spare_servers")]),s._v(": idle 상태의 자식 프로세스의 최대 개수를 의미 합니다.")]),s._v(" "),n("li",[n("em",[s._v("pm.max_requests")]),s._v(" : 최대 request를 처리 수 입니다. 500 으로 설정되어 있다면 500번 request 후 프로세스를 다시 생성 하며\n프로세스가 점진적인 메모리 증가에 대한부분을 방지 할 수 있습니다.")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("user "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\ngroup "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\nlisten.owner "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\nlisten.group "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\nlisten.mode "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0660\nlisten "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:9000\npm "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" dynamic\npm.max_children "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\npm.start_servers "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\npm.min_spare_servers "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\npm.max_spare_servers "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\npm.max_requests "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("\naccess.log "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/php-fpm-"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pool")]),s._v(".access.log\naccess.format "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%R - %u %t '),n("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("%m %r%Q%q"),n("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v(' %s %f %{mili}d %{kilo}M %C%%"')]),s._v("\nslowlog "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/php-fpm-"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pool")]),s._v(".log.slow\nrequest_slowlog_timeout "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\nphp_admin_value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("error_log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/fpm-php."),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pool")]),s._v(".error.log\nphp_admin_flag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("log_errors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" on\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);